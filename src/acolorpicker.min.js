/*!
 * a-color-picker
 * https://github.com/narsenico/a-color-picker
 *
 * Copyright (c) 2017-2019, Gianfranco Caldi.
 * Modified by Alkadia
 * Released under the MIT License.
 */
const isPlainObject=function(t){if("object"!=typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)};import{COLOR_NAMES,PALETTE_MATERIAL_500,PALETTE_MATERIAL_CHROME,rgbToHex,hslToRgb,rgbToHsl,rgbToHsv,rgbToInt,intToRgb,cssColorToRgb,cssColorToRgba,parseColorToRgb,parseColorToRgba,parseColorToHsl,parseColorToHsla,parseColor,getLuminance,limit,ensureArray,nvl}from"./utils.js";let HTML_BOX='\n<div class="a-color-picker-row a-color-picker-stack a-color-picker-row-top">\n    <canvas class="a-color-picker-sl a-color-picker-transparent"></canvas>\n    <div class="a-color-picker-dot"></div>\n</div>\n<div class="a-color-picker-row">\n    \n    <div class="a-color-picker-stack a-color-picker-transparent a-color-picker-circle">\n        \n        <div class="a-color-picker-preview">\n            <input class="a-color-picker-clipbaord" type="text">\n        </div>\n    </div>\n    <div class="a-color-picker-column">\n        <div class="a-color-picker-cell a-color-picker-stack">\n            <canvas class="a-color-picker-h"></canvas>\n            <div class="a-color-picker-dot"></div>\n        </div>\n        <div class="a-color-picker-cell a-color-picker-alpha a-color-picker-stack" show-on-alpha>\n            <canvas class="a-color-picker-a a-color-picker-transparent"></canvas>\n            <div class="a-color-picker-dot"></div>\n        </div>\n    </div>\n    \n    <div class="a-color-picker-stack a-color-picker-eyedropper">\n            <svg stroke-width="1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M7 13.161L12.4644 7.6966C12.8549 7.30607 13.4881 7.30607 13.8786 7.6966L15.9999 9.81792C16.3904 10.2084 16.3904 10.8416 15.9999 11.2321L14.0711 13.161M7 13.161L4.82764 15.3334C4.73428 15.4267 4.66034 15.5376 4.61007 15.6597L3.58204 18.1563C3.07438 19.3892 4.30728 20.6221 5.54018 20.1145L8.03681 19.0865C8.1589 19.0362 8.26981 18.9622 8.36317 18.8689L14.0711 13.161M7 13.161H14.0711" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.878 3.45401L15.9993 5.57533M20.242 9.81798L18.1206 7.69666M15.9993 5.57533L17.4135 4.16112C17.8041 3.7706 18.4372 3.7706 18.8277 4.16112L19.5349 4.86823C19.9254 5.25875 19.9254 5.89192 19.5349 6.28244L18.1206 7.69666M15.9993 5.57533L18.1206 7.69666" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path></svg>\n    </div>\n    \n</div>\n<div class="a-color-picker-row a-color-picker-hsl" show-on-hsl>\n    <label>H</label>\n    <input nameref="H" type="number" maxlength="3" min="0" max="360" value="0">\n    <label>S</label>\n    <input nameref="S" type="number" maxlength="3" min="0" max="100" value="0">\n    <label>L</label>\n    <input nameref="L" type="number" maxlength="3" min="0" max="100" value="0">\n</div>\n<div class="a-color-picker-row a-color-picker-rgb" show-on-rgb>\n    <label>R</label>\n    <input nameref="R" type="number" maxlength="3" min="0" max="255" value="0">\n    <label>G</label>\n    <input nameref="G" type="number" maxlength="3" min="0" max="255" value="0">\n    <label>B</label>\n    <input nameref="B" type="number" maxlength="3" min="0" max="255" value="0">\n</div>\n<div class="a-color-picker-row a-color-picker-rgbhex a-color-picker-single-input" show-on-single-input>\n    <label>HEX</label>\n    <input nameref="RGBHEX" type="text" pleceholder="HEX" select-on-focus>\n</div>\n<div class="a-color-picker-row a-color-picker-palette"></div>\n';const VERSION="1.2.2",IS_EDGE="undefined"!=typeof window&&window.navigator.userAgent.indexOf("Edge")>-1,IS_IE11="undefined"!=typeof window&&window.navigator.userAgent.indexOf("rv:")>-1,DEFAULT={id:null,attachTo:"body",showHSL:!0,showRGB:!0,showHEX:!0,showAlpha:!1,color:"#ff0000",palette:null,paletteEditable:!1,useAlphaInPalette:"auto",slBarSize:[232,150],hueBarSize:[130,11],alphaBarSize:[130,11]},HUE="H",SATURATION="S",LUMINANCE="L",RGB="RGB",RED="R",GREEN="G",BLUE="B",RGBHEX="RGBHEX",COLOR="COLOR",RGBA_USER="RGBA_USER",HSLA_USER="HSLA_USER",ALPHA="ALPHA";function parseElement(t,e,i){return t?t instanceof HTMLElement?t:t instanceof NodeList?t[0]:"string"==typeof t?document.querySelector(t):t.jquery?t.get(0):i?e:null:e}function parseElements(t){return t?Array.isArray(t)?t:t instanceof HTMLElement?[t]:t instanceof NodeList?[...t]:"string"==typeof t?[...document.querySelectorAll(t)]:t.jquery?t.get():[]:[]}function canvasHelper(t){const e=t.getContext("2d"),i=+t.width,s=+t.height,o=e.createLinearGradient(1,1,1,s-1);return o.addColorStop(0,"white"),o.addColorStop(1,"black"),{setHue(t){const r=e.createLinearGradient(1,0,i-1,0);r.addColorStop(0,`hsla(${t}, 100%, 50%, 0)`),r.addColorStop(1,`hsla(${t}, 100%, 50%, 1)`),e.fillStyle=o,e.fillRect(0,0,i,s),e.fillStyle=r,e.globalCompositeOperation="multiply",e.fillRect(0,0,i,s),e.globalCompositeOperation="source-over"},grabColor:(t,i)=>e.getImageData(t,i,1,1).data,findColor(t,e,o){const[,r,a]=rgbToHsv(t,e,o);return[r*i,s-a*s]}}}function parseAttrBoolean(t,e,i){return null===t?e:/^\s*$/.test(t)?i:!!/true|yes|1/i.test(t)||!/false|no|0/i.test(t)&&e}function parseAttrDimensionArray(t,e,i){if(null===t)return e;if(/^\s*$/.test(t))return i;{const i=t.split(",").map(Number);return 2===i.length&&i[0]&&i[1]?i:e}}function copyOptionsFromElement(t,e,i="acp-"){if(e.hasAttribute(i+"show-hsl")&&(t.showHSL=parseAttrBoolean(e.getAttribute(i+"show-hsl"),DEFAULT.showHSL,!0)),e.hasAttribute(i+"show-rgb")&&(t.showRGB=parseAttrBoolean(e.getAttribute(i+"show-rgb"),DEFAULT.showRGB,!0)),e.hasAttribute(i+"show-hex")&&(t.showHEX=parseAttrBoolean(e.getAttribute(i+"show-hex"),DEFAULT.showHEX,!0)),e.hasAttribute(i+"show-alpha")&&(t.showAlpha=parseAttrBoolean(e.getAttribute(i+"show-alpha"),DEFAULT.showAlpha,!0)),e.hasAttribute(i+"palette-editable")&&(t.paletteEditable=parseAttrBoolean(e.getAttribute(i+"palette-editable"),DEFAULT.paletteEditable,!0)),e.hasAttribute(i+"sl-bar-size")&&(t.slBarSize=parseAttrDimensionArray(e.getAttribute(i+"sl-bar-size"),DEFAULT.slBarSize,[232,150])),e.hasAttribute(i+"hue-bar-size")&&(t.hueBarSize=parseAttrDimensionArray(e.getAttribute(i+"hue-bar-size"),DEFAULT.hueBarSize,[150,11]),t.alphaBarSize=t.hueBarSize),e.hasAttribute(i+"palette")){const s=e.getAttribute(i+"palette");switch(s){case"PALETTE_MATERIAL_500":t.palette=PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":case"":t.palette=PALETTE_MATERIAL_CHROME;break;default:t.palette=s.split(/[;|]/)}}e.hasAttribute(i+"color")&&(t.color=e.getAttribute(i+"color"))}class ColorPicker{static setHTMLTemplate(t){HTML_BOX=t}constructor(t,e){if(e?(t=parseElement(t),this.options=Object.assign({},DEFAULT,e)):t&&isPlainObject(t)?(this.options=Object.assign({},DEFAULT,t),t=parseElement(this.options.attachTo)):(this.options=Object.assign({},DEFAULT),t=parseElement(nvl(t,this.options.attachTo))),!t)throw new Error(`Container not found: ${this.options.attachTo}`);{if(copyOptionsFromElement(this.options,t),this.H=0,this.S=0,this.L=0,this.R=0,this.G=0,this.B=0,this.A=1,this.palette={},this.element=document.createElement("div"),this.options.id&&(this.element.id=this.options.id),this.element.className="a-color-picker",this.element.innerHTML=HTML_BOX,t.appendChild(this.element),"EyeDropper"in window){let t=this.element.querySelector(".a-color-picker-eyedropper");const e=new EyeDropper;t.addEventListener("click",(t=>{e.open().then((t=>{this.onValueChanged(RGBHEX,t.sRGBHex),console.warn("result",t)})).catch((()=>{}))}))}else this.element.dataset.noEyeDropper;const e=this.element.querySelector(".a-color-picker-h");this.setupHueCanvas(e),this.hueBarHelper=canvasHelper(e),this.huePointer=this.element.querySelector(".a-color-picker-h+.a-color-picker-dot");const i=this.element.querySelector(".a-color-picker-sl");this.setupSlCanvas(i),this.slBarHelper=canvasHelper(i),this.slPointer=this.element.querySelector(".a-color-picker-sl+.a-color-picker-dot"),this.preview=this.element.querySelector(".a-color-picker-preview"),this.setupClipboard(this.preview.querySelector(".a-color-picker-clipbaord")),this.options.showHSL?(this.setupInput(this.inputH=this.element.querySelector(".a-color-picker-hsl>input[nameref=H]")),this.setupInput(this.inputS=this.element.querySelector(".a-color-picker-hsl>input[nameref=S]")),this.setupInput(this.inputL=this.element.querySelector(".a-color-picker-hsl>input[nameref=L]"))):this.element.querySelector(".a-color-picker-hsl").remove(),this.options.showRGB?(this.setupInput(this.inputR=this.element.querySelector(".a-color-picker-rgb>input[nameref=R]")),this.setupInput(this.inputG=this.element.querySelector(".a-color-picker-rgb>input[nameref=G]")),this.setupInput(this.inputB=this.element.querySelector(".a-color-picker-rgb>input[nameref=B]"))):this.element.querySelector(".a-color-picker-rgb").remove(),this.options.showHEX?this.setupInput(this.inputRGBHEX=this.element.querySelector("input[nameref=RGBHEX]")):this.element.querySelector(".a-color-picker-rgbhex").remove(),this.options.paletteEditable||this.options.palette&&this.options.palette.length>0?this.setPalette(this.paletteRow=this.element.querySelector(".a-color-picker-palette")):(this.paletteRow=this.element.querySelector(".a-color-picker-palette"),this.paletteRow.remove()),this.options.showAlpha?(this.setupAlphaCanvas(this.element.querySelector(".a-color-picker-a")),this.alphaPointer=this.element.querySelector(".a-color-picker-a+.a-color-picker-dot")):this.element.querySelector(".a-color-picker-alpha").remove(),this.element.style.width=`${this.options.slBarSize[0]}px`,this.onValueChanged(COLOR,this.options.color),this.options.afterTemplateConfiguration&&"function"==typeof this.options.afterTemplateConfiguration&&this.options.afterTemplateConfiguration.call(this)}}setupHueCanvas(t){t.width=this.options.hueBarSize[0],t.height=this.options.hueBarSize[1];const e=t.getContext("2d"),i=e.createLinearGradient(0,0,this.options.hueBarSize[0],0);for(let t=0;t<=1;t+=.002777777777777778)i.addColorStop(t,`hsl(${360*t}, 100%, 50%)`);e.fillStyle=i,e.fillRect(0,0,this.options.hueBarSize[0],this.options.hueBarSize[1]);const s=e=>{const i=limit(e.clientX-t.getBoundingClientRect().left,0,this.options.hueBarSize[0]),s=Math.round(360*i/this.options.hueBarSize[0]);this.huePointer.style.left=i-7+"px",this.onValueChanged("H",s)},o=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};t.addEventListener("mousedown",(t=>{s(t),document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)}))}setupSlCanvas(t){t.width=this.options.slBarSize[0],t.height=this.options.slBarSize[1];const e=e=>{const i=limit(e.clientX-t.getBoundingClientRect().left,0,this.options.slBarSize[0]-1),s=limit(e.clientY-t.getBoundingClientRect().top,0,this.options.slBarSize[1]-1),o=this.slBarHelper.grabColor(i,s);this.slPointer.style.left=i-7+"px",this.slPointer.style.top=s-7+"px",this.onValueChanged(RGB,o)},i=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)};t.addEventListener("mousedown",(t=>{e(t),document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}))}setupAlphaCanvas(t){t.width=this.options.alphaBarSize[0],t.height=this.options.alphaBarSize[1];const e=t.getContext("2d"),i=e.createLinearGradient(0,0,t.width-1,0);i.addColorStop(0,"hsla(0, 0%, 50%, 0)"),i.addColorStop(1,"hsla(0, 0%, 50%, 1)"),e.fillStyle=i,e.fillRect(0,0,this.options.alphaBarSize[0],this.options.alphaBarSize[1]);const s=e=>{const i=limit(e.clientX-t.getBoundingClientRect().left,0,this.options.alphaBarSize[0]),s=+(i/this.options.alphaBarSize[0]).toFixed(2);this.alphaPointer.style.left=i-7+"px",this.onValueChanged(ALPHA,s)},o=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};t.addEventListener("mousedown",(t=>{s(t),document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)}))}setupInput(t){const e=+t.min,i=+t.max,s=t.getAttribute("nameref");t.hasAttribute("select-on-focus")&&t.addEventListener("focus",(()=>{t.select()})),"text"===t.type?t.addEventListener("change",(()=>{this.onValueChanged(s,t.value)})):((IS_EDGE||IS_IE11)&&t.addEventListener("keydown",(o=>{"Up"===o.key?(t.value=limit(+t.value+1,e,i),this.onValueChanged(s,t.value),o.returnValue=!1):"Down"===o.key&&(t.value=limit(+t.value-1,e,i),this.onValueChanged(s,t.value),o.returnValue=!1)})),t.addEventListener("change",(()=>{const o=+t.value;this.onValueChanged(s,limit(o,e,i))})))}setupClipboard(t){t.title="click to copy",t.addEventListener("click",(()=>{t.value=parseColor([this.R,this.G,this.B,this.A],"hexcss4"),t.select(),document.execCommand("copy")}))}setPalette(t){const e="auto"===this.options.useAlphaInPalette?this.options.showAlpha:this.options.useAlphaInPalette;let i=null;switch(this.options.palette){case"PALETTE_MATERIAL_500":i=PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":i=PALETTE_MATERIAL_CHROME;break;default:i=ensureArray(this.options.palette)}if(this.options.paletteEditable||i.length>0){const s=(e,i,s)=>{const o=t.querySelector('.a-color-picker-palette-color[data-color="'+e+'"]')||document.createElement("div");o.className="a-color-picker-palette-color",o.style.backgroundColor=e,o.setAttribute("data-color",e),o.title=e,t.insertBefore(o,i),this.palette[e]=!0,s&&this.onPaletteColorAdd(e)},o=(e,i)=>{e?(t.removeChild(e),this.palette[e.getAttribute("data-color")]=!1,i&&this.onPaletteColorRemove(e.getAttribute("data-color"))):(t.querySelectorAll(".a-color-picker-palette-color[data-color]").forEach((e=>{t.removeChild(e)})),Object.keys(this.palette).forEach((t=>{this.palette[t]=!1})),i&&this.onPaletteColorRemove())};if(i.map((t=>parseColor(t,e?"rgbcss4":"hex"))).filter((t=>!!t)).forEach((t=>s(t))),this.options.paletteEditable){const i=document.createElement("div");i.className="a-color-picker-palette-color a-color-picker-palette-add",i.innerHTML="+",t.appendChild(i),t.addEventListener("click",(t=>{/a-color-picker-palette-add/.test(t.target.className)?t.shiftKey?o(null,!0):s(e?parseColor([this.R,this.G,this.B,this.A],"rgbcss4"):rgbToHex(this.R,this.G,this.B),t.target,!0):/a-color-picker-palette-color/.test(t.target.className)&&(t.shiftKey?o(t.target,!0):this.onValueChanged(COLOR,t.target.getAttribute("data-color")))}))}else t.addEventListener("click",(t=>{/a-color-picker-palette-color/.test(t.target.className)&&this.onValueChanged(COLOR,t.target.getAttribute("data-color"))}))}else t.style.display="none"}updatePalette(t){this.paletteRow.innerHTML="",this.palette={},this.paletteRow.parentElement||this.element.appendChild(this.paletteRow),this.options.palette=t,this.setPalette(this.paletteRow)}onValueChanged(t,e,i={silent:!1}){switch(t){case"H":this.H=e,[this.R,this.G,this.B]=hslToRgb(this.H,this.S,this.L),this.slBarHelper.setHue(e),this.updatePointerH(this.H),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case"S":this.S=e,[this.R,this.G,this.B]=hslToRgb(this.H,this.S,this.L),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case"L":this.L=e,[this.R,this.G,this.B]=hslToRgb(this.H,this.S,this.L),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case"R":this.R=e,[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case"G":this.G=e,[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case"B":this.B=e,[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case RGB:[this.R,this.G,this.B]=e,[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A);break;case RGBA_USER:[this.R,this.G,this.B,this.A]=e,[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A),this.updatePointerA(this.A);break;case HSLA_USER:[this.H,this.S,this.L,this.A]=e,[this.R,this.G,this.B]=hslToRgb(this.H,this.S,this.L),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A),this.updatePointerA(this.A);break;case RGBHEX:[this.R,this.G,this.B,this.A]=cssColorToRgba(e)||[this.R,this.G,this.B,this.A],[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updatePointerA(this.A);break;case COLOR:[this.R,this.G,this.B,this.A]=parseColor(e,"rgba")||[0,0,0,1],[this.H,this.S,this.L]=rgbToHsl(this.R,this.G,this.B),this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B,this.A),this.updatePointerA(this.A);break;case ALPHA:this.A=e,this.updateInputRGBHEX(this.R,this.G,this.B,this.A)}1===this.A?this.preview.style.backgroundColor=`rgb(${this.R},${this.G},${this.B})`:this.preview.style.backgroundColor=`rgba(${this.R},${this.G},${this.B},${this.A})`,i&&i.silent||this.onchange&&this.onchange(this.preview.style.backgroundColor)}onPaletteColorAdd(t){this.oncoloradd&&this.oncoloradd(t)}onPaletteColorRemove(t){this.oncolorremove&&this.oncolorremove(t)}updateInputHSL(t,e,i){this.options.showHSL&&(this.inputH.value=t,this.inputS.value=e,this.inputL.value=i)}updateInputRGB(t,e,i){this.options.showRGB&&(this.inputR.value=t,this.inputG.value=e,this.inputB.value=i)}updateInputRGBHEX(t,e,i,s){this.options.showHEX&&(this.options.showAlpha?this.inputRGBHEX.value=parseColor([t,e,i,s],"hexcss4"):this.inputRGBHEX.value=rgbToHex(t,e,i))}updatePointerH(t){const e=this.options.hueBarSize[0]*t/360;this.huePointer.style.left=e-7+"px"}updatePointerSL(t,e,i){const[s,o,r]=hslToRgb(t,e,i),[a,n]=this.slBarHelper.findColor(s,o,r);a>=0&&(this.slPointer.style.left=a-7+"px",this.slPointer.style.top=n-7+"px")}updatePointerA(t){if(!this.options.showAlpha)return;const e=this.options.alphaBarSize[0]*t;this.alphaPointer.style.left=e-7+"px"}}class EventEmitter{constructor(t){this.name=t,this.listeners=[]}on(t){t&&this.listeners.push(t)}off(t){this.listeners=t?this.listeners.filter((e=>e!==t)):[]}emit(t,e){const i=this.listeners.slice(0);for(let s=0;s<i.length;s++)i[s].apply(e,t)}}function createPicker(t,e){let i=new ColorPicker(t,e),s={change:new EventEmitter("change"),coloradd:new EventEmitter("coloradd"),colorremove:new EventEmitter("colorremove")},o=!0,r={};const a={get element(){return i.element},get rgb(){return[i.R,i.G,i.B]},set rgb([t,e,s]){[t,e,s]=[limit(t,0,255),limit(e,0,255),limit(s,0,255)],i.onValueChanged(RGBA_USER,[t,e,s,1])},get hsl(){return[i.H,i.S,i.L]},set hsl([t,e,s]){[t,e,s]=[limit(t,0,360),limit(e,0,100),limit(s,0,100)],i.onValueChanged(HSLA_USER,[t,e,s,1])},get rgbhex(){return this.all.hex},get rgba(){return[i.R,i.G,i.B,i.A]},set rgba([t,e,s,o]){[t,e,s,o]=[limit(t,0,255),limit(e,0,255),limit(s,0,255),limit(o,0,1)],i.onValueChanged(RGBA_USER,[t,e,s,o])},get hsla(){return[i.H,i.S,i.L,i.A]},set hsla([t,e,s,o]){[t,e,s,o]=[limit(t,0,360),limit(e,0,100),limit(s,0,100),limit(o,0,1)],i.onValueChanged(HSLA_USER,[t,e,s,o])},get color(){return this.all.toString()},set color(t){i.onValueChanged(COLOR,t)},setColor(t,e=!1){i.onValueChanged(COLOR,t,{silent:e})},get all(){if(o){const t=[i.R,i.G,i.B,i.A],e=i.A<1?`rgba(${i.R},${i.G},${i.B},${i.A})`:rgbToHex(...t);r=parseColor(t,r),r.toString=()=>e,o=!1}return Object.assign({},r)},get onchange(){return s.change&&s.change.listeners[0]},set onchange(t){this.off("change").on("change",t)},get oncoloradd(){return s.coloradd&&s.coloradd.listeners[0]},set oncoloradd(t){this.off("coloradd").on("coloradd",t)},get oncolorremove(){return s.colorremove&&s.colorremove.listeners[0]},set oncolorremove(t){this.off("colorremove").on("colorremove",t)},get palette(){return Object.keys(i.palette).filter((t=>i.palette[t]))},set palette(t){i.updatePalette(t)},show(){i.element.classList.remove("hidden")},hide(){i.element.classList.add("hidden")},toggle(){i.element.classList.toggle("hidden")},on(t,e){return t&&s[t]&&s[t].on(e),this},off(t,e){return t&&s[t]&&s[t].off(e),this},destroy(){s.change.off(),s.coloradd.off(),s.colorremove.off(),i.element.remove(),s=null,i=null}};return i.onchange=(...t)=>{o=!0,s.change.emit([a,...t],a)},i.oncoloradd=(...t)=>{s.coloradd.emit([a,...t],a)},i.oncolorremove=(...t)=>{s.colorremove.emit([a,...t],a)},i.element.ctrl=a,a}function from(t,e){const i=parseElements(t).map(((t,i)=>{const s=createPicker(t,e);return s.index=i,s}));return i.on=function(t,e){return i.forEach((i=>i.on(t,e))),this},i.off=function(t){return i.forEach((e=>e.off(t))),this},i}export default{createPicker:createPicker,from:from,parseColorToRgb:parseColorToRgb,parseColorToRgba:parseColorToRgba,parseColorToHsl:parseColorToHsl,parseColorToHsla:parseColorToHsla,parseColor:parseColor,rgbToHex:rgbToHex,hslToRgb:hslToRgb,rgbToHsl:rgbToHsl,rgbToHsv:rgbToHsv,rgbToInt:rgbToInt,intToRgb:intToRgb,getLuminance:getLuminance,COLOR_NAMES:COLOR_NAMES,PALETTE_MATERIAL_500:PALETTE_MATERIAL_500,PALETTE_MATERIAL_CHROME:PALETTE_MATERIAL_CHROME,VERSION:"1.2.2"};